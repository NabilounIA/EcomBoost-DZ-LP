// Base de connaissances compl√®te pour EcomBoost DZ
export interface KnowledgeItem {
  id: string;
  category: string;
  question: string;
  answer: string;
  keywords: string[];
  context?: string;
}

export const COMPANY_INFO = {
  name: "EcomBoost DZ",
  description: "Sp√©cialiste de l'automatisation e-commerce pour le march√© alg√©rien",
  mission: "Aider les vendeurs alg√©riens √† automatiser et professionnaliser leur business en ligne",
  target: "Vendeurs en ligne, boutiques e-commerce, entrepreneurs alg√©riens",
  experience: "Plus de 500 vendeurs alg√©riens nous font d√©j√† confiance",
  location: "Alg√©rie",
  support: "Support 7j/7 avec √©quipe locale"
};

export const SERVICES_DETAILS = {
  "automatisation_whatsapp": {
    name: "Automatisation WhatsApp",
    description: "Chatbot intelligent qui g√®re le processus de commande de A √† Z",
    features: [
      "R√©ponses instantan√©es 24/7",
      "Catalogue de produits interactif", 
      "Collecte automatique des adresses",
      "R√©duction des erreurs de saisie",
      "Confirmation de commandes automatique",
      "Int√©gration WhatsApp, Messenger et SMS"
    ],
    benefits: [
      "Ne ratez plus jamais un prospect",
      "R√©duction du temps de gestion client",
      "Augmentation du taux de conversion",
      "Disponibilit√© 24h/24"
    ]
  },
  "creation_contenu": {
    name: "Cr√©ation de Contenu Publicitaire",
    description: "Visuels et vid√©os professionnels pour maximiser vos conversions",
    features: [
      "Designs professionnels et modernes",
      "Textes publicitaires (copywriting) inclus",
      "Formats adapt√©s (Story, Reel, Post)",
      "Mise en avant de vos produits",
      "Vid√©os courtes TikTok/Reels automatis√©es"
    ],
    benefits: [
      "Image professionnelle instantan√©e",
      "Contenu qui arr√™te le scroll",
      "Optimis√© pour les conversions",
      "Adapt√© au march√© alg√©rien"
    ]
  },
  "planification_ia": {
    name: "Planification de Contenu IA",
    description: "Maintenez une pr√©sence active sur les r√©seaux sociaux automatiquement",
    features: [
      "Calendrier de publication automatis√©",
      "G√©n√©ration d'id√©es de posts",
      "Contenu adapt√© √† votre marque",
      "Analyse de performance simple",
      "Publication multi-r√©seaux (Facebook, Instagram, TikTok)"
    ],
    benefits: [
      "Pr√©sence constante sans effort",
      "Contenu coh√©rent et professionnel",
      "Gain de temps consid√©rable",
      "Engagement client am√©lior√©"
    ]
  }
};

export const PRICING_PLANS = {
  "starter": {
    name: "Starter Social",
    price: "9.900 DA/mois (~65 ‚Ç¨)",
    target: "Petit vendeur qui d√©bute ou qui a 1-3 produits",
    includes: [
      "10 visuels produits optimis√©s",
      "5 textes publicitaires pr√™ts",
      "Formats adapt√©s Facebook & Instagram"
    ],
    excludes: [
      "Pas de robot WhatsApp",
      "Pas de calendrier √©ditorial"
    ],
    goal: "Image professionnelle avec petit budget"
  },
  "intelligent": {
    name: "Vendeur Intelligent",
    price: "19.900 DA/mois (~130 ‚Ç¨)",
    target: "Vendeur actif avec plusieurs produits, veut automatiser",
    includes: [
      "20 visuels produits/mois",
      "10 vid√©os courtes TikTok/Reels",
      "10 l√©gendes publicitaires optimis√©es",
      "Robot WhatsApp/Messenger IA 24h/24",
      "Collecte infos clients automatique",
      "Confirmation commandes COD"
    ],
    excludes: [
      "Pas de calendrier automatique"
    ],
    goal: "Augmenter les ventes sans rater de prospects",
    popular: true
  },
  "topseller": {
    name: "Top Seller DZ",
    price: "39.900 DA/mois (~260 ‚Ç¨)",
    target: "Gros vendeur ou boutique multi-produits",
    includes: [
      "50 visuels produits/mois",
      "20 vid√©os promo TikTok/Reels",
      "Textes multi-r√©seaux",
      "Chatbot IA avanc√© (WhatsApp + Messenger + SMS)",
      "Calendrier automatique 30 posts/mois",
      "Dashboard ventes simple",
      "Publication auto ou notification"
    ],
    goal: "Professionnalisation compl√®te - boutique autonome"
  }
};

export const GUARANTEES = {
  satisfaction: {
    title: "Satisfait ou Rembours√©",
    description: "30 jours pour tester. Pas convaincu ? Remboursement int√©gral, sans questions."
  },
  results: {
    title: "R√©sultats Garantis", 
    description: "Si vous ne voyez pas d'am√©lioration apr√®s 60 jours, nous travaillons gratuitement jusqu'aux r√©sultats."
  },
  flexibility: {
    title: "Sans Engagement",
    description: "Arr√™tez quand vous voulez avec 30 jours de pr√©avis. Pas de frais cach√©s, pas de pi√®ge."
  },
  trial: {
    title: "Essai Gratuit 7 Jours",
    description: "Testez notre syst√®me complet pendant une semaine, sans engagement."
  }
};

export const KNOWLEDGE_BASE: KnowledgeItem[] = [
  // Questions sur l'entreprise
  {
    id: "company_1",
    category: "entreprise",
    question: "Qui √™tes-vous ?",
    answer: `Nous sommes EcomBoost DZ, sp√©cialistes de l'automatisation e-commerce pour le march√© alg√©rien. Notre mission est d'aider les vendeurs alg√©riens √† automatiser et professionnaliser leur business en ligne. Plus de 500 vendeurs nous font d√©j√† confiance !`,
    keywords: ["qui", "entreprise", "ecomboost", "pr√©sentation", "soci√©t√©"]
  },
  {
    id: "company_2", 
    category: "entreprise",
    question: "O√π √™tes-vous bas√©s ?",
    answer: `Nous sommes bas√©s en Alg√©rie avec une √©quipe locale qui comprend parfaitement le march√© alg√©rien. Notre support est disponible 7j/7 en fran√ßais et arabe.`,
    keywords: ["o√π", "bas√©", "alg√©rie", "local", "√©quipe", "localisation"]
  },
  
  // Questions sur les services
  {
    id: "services_1",
    category: "services",
    question: "Quels sont vos services ?",
    answer: `Nous proposons 3 services principaux :

ü§ñ **Automatisation WhatsApp** : Chatbot intelligent qui g√®re vos commandes 24h/24
üé® **Cr√©ation de Contenu Publicitaire** : Visuels et vid√©os pros pour vos r√©seaux sociaux  
üìÖ **Planification de Contenu IA** : Calendrier automatis√© pour vos publications

Tout est con√ßu sp√©cifiquement pour le march√© alg√©rien !`,
    keywords: ["services", "offre", "que", "faites", "proposez"]
  },
  {
    id: "services_2",
    category: "services", 
    question: "Comment fonctionne le chatbot WhatsApp ?",
    answer: `Notre chatbot WhatsApp est tr√®s intelligent :

‚úÖ R√©pond instantan√©ment 24h/24 aux questions clients
‚úÖ Pr√©sente votre catalogue de produits de fa√ßon interactive
‚úÖ Collecte automatiquement les infos de livraison (nom, adresse, t√©l√©phone)
‚úÖ Confirme les commandes et vous les transmet
‚úÖ R√©duit les erreurs de saisie
‚úÖ Fonctionne aussi sur Messenger et SMS (selon le pack)

R√©sultat : vous ne ratez plus jamais un prospect, m√™me la nuit !`,
    keywords: ["chatbot", "whatsapp", "robot", "automatisation", "comment", "fonctionne"]
  },
  {
    id: "services_3",
    category: "services",
    question: "Que comprend la cr√©ation de contenu ?",
    answer: `Notre service de cr√©ation de contenu inclut :

üé® **Visuels professionnels** : Photos produits optimis√©es, designs modernes
üìù **Copywriting inclus** : Textes publicitaires qui convertissent
üì± **Formats adapt√©s** : Stories, Reels, Posts pour chaque r√©seau
üé¨ **Vid√©os courtes** : TikTok/Reels automatis√©es √† partir de vos photos
üéØ **Optimis√© conversions** : Con√ßu pour arr√™ter le scroll et vendre

Tout est adapt√© au march√© alg√©rien et √† votre marque !`,
    keywords: ["contenu", "cr√©ation", "visuels", "vid√©os", "design", "publicit√©"]
  },

  // Questions sur les tarifs
  {
    id: "pricing_1",
    category: "tarifs",
    question: "Quels sont vos tarifs ?",
    answer: `Nous avons 3 packs adapt√©s √† chaque niveau :

üíö **Starter Social** - 9.900 DA/mois (~65‚Ç¨)
Pour d√©buter : 10 visuels + 5 textes publicitaires

üî• **Vendeur Intelligent** - 19.900 DA/mois (~130‚Ç¨) *LE PLUS POPULAIRE*
Contenu + Robot WhatsApp complet

‚≠ê **Top Seller DZ** - 39.900 DA/mois (~260‚Ç¨)  
Solution compl√®te : Contenu + Robot + Calendrier auto + Dashboard

üéÅ **Bonus** : Essai gratuit 7 jours pour tous les packs !`,
    keywords: ["tarifs", "prix", "co√ªt", "combien", "packs", "abonnement"]
  },
  {
    id: "pricing_2",
    category: "tarifs",
    question: "Quel pack me conseillez-vous ?",
    answer: `Cela d√©pend de votre situation :

üü¢ **Starter Social (9.900 DA)** si vous :
- D√©butez ou avez 1-3 produits seulement
- Voulez juste une image plus pro

üî• **Vendeur Intelligent (19.900 DA)** si vous :
- Avez plusieurs produits
- Recevez d√©j√† des messages clients
- Voulez automatiser pour ne rien rater
*C'est notre pack le plus populaire !*

‚≠ê **Top Seller DZ (39.900 DA)** si vous :
- Avez une grosse activit√©
- Voulez une solution 100% automatis√©e
- G√©rez plusieurs r√©seaux sociaux

Besoin d'aide pour choisir ? Je peux vous poser quelques questions !`,
    keywords: ["conseiller", "choisir", "quel", "pack", "recommandation", "mieux"]
  },

  // Questions sur les garanties
  {
    id: "guarantees_1",
    category: "garanties",
    question: "Avez-vous des garanties ?",
    answer: `Oui, nous avons plusieurs garanties solides :

üõ°Ô∏è **Satisfait ou Rembours√©** : 30 jours pour tester, remboursement int√©gral si pas convaincu
üéØ **R√©sultats Garantis** : Si pas d'am√©lioration apr√®s 60 jours, on travaille gratuitement jusqu'aux r√©sultats
üîí **Sans Engagement** : Arr√™t possible avec 30 jours de pr√©avis, pas de frais cach√©s
üéÅ **Essai Gratuit** : 7 jours d'essai complet avant de payer

Plus de 500 vendeurs alg√©riens nous font confiance !`,
    keywords: ["garanties", "remboursement", "satisfait", "engagement", "essai", "gratuit"]
  },

  // Questions techniques
  {
    id: "technical_1",
    category: "technique",
    question: "Comment √ßa marche techniquement ?",
    answer: `C'est tr√®s simple pour vous :

1Ô∏è‚É£ **Setup initial** : On configure tout pour vous (WhatsApp Business, comptes r√©seaux sociaux)
2Ô∏è‚É£ **Formation** : On vous montre comment utiliser le dashboard en 30 minutes
3Ô∏è‚É£ **Automatisation** : Tout fonctionne en arri√®re-plan
4Ô∏è‚É£ **Suivi** : Vous recevez les commandes directement, on s'occupe du reste

Pas besoin d'√™tre technique, notre √©quipe g√®re tout !`,
    keywords: ["comment", "marche", "technique", "installation", "setup", "configuration"]
  },
  {
    id: "technical_2",
    category: "technique", 
    question: "Faut-il des comp√©tences techniques ?",
    answer: `Absolument pas ! Notre solution est con√ßue pour √™tre ultra-simple :

‚úÖ **Installation** : Notre √©quipe configure tout pour vous
‚úÖ **Formation** : 30 minutes suffisent pour tout comprendre  
‚úÖ **Utilisation** : Interface simple, tout est automatis√©
‚úÖ **Support** : √âquipe locale disponible 7j/7 pour vous aider

Si vous savez utiliser WhatsApp et Facebook, vous savez utiliser nos outils !`,
    keywords: ["comp√©tences", "techniques", "difficile", "simple", "formation", "aide"]
  },

  // Questions sur le ROI
  {
    id: "roi_1",
    category: "roi",
    question: "Quel retour sur investissement puis-je esp√©rer ?",
    answer: `Nos clients voient g√©n√©ralement :

üìà **+40% de conversions** gr√¢ce au chatbot qui ne rate aucun prospect
‚è∞ **-80% de temps** pass√© √† r√©pondre aux messages
üí∞ **ROI positif d√®s le 1er mois** pour la plupart des vendeurs
üéØ **+60% d'engagement** avec le contenu professionnel

Exemple concret : Si vous vendez pour 100.000 DA/mois, le pack Vendeur Intelligent (19.900 DA) peut vous faire gagner 40.000 DA suppl√©mentaires, soit un ROI de +100% !

Voulez-vous qu'on calcule votre ROI personnalis√© ?`,
    keywords: ["roi", "retour", "investissement", "rentabilit√©", "b√©n√©fices", "gains"]
  },

  // Questions sur la concurrence
  {
    id: "competition_1",
    category: "concurrence",
    question: "Quelle est votre diff√©rence avec la concurrence ?",
    answer: `Ce qui nous rend uniques :

üá©üáø **Sp√©cialis√©s Alg√©rie** : On comprend le march√© local (COD, dialecte, habitudes)
ü§ñ **IA vraiment intelligente** : Pas juste des r√©ponses automatiques, mais de la vraie compr√©hension
üí∞ **Tarifs transparents** : Pas de frais cach√©s, tout est inclus
üõ°Ô∏è **Garanties solides** : 30 jours satisfait ou rembours√© + r√©sultats garantis
üë• **Support local** : √âquipe alg√©rienne, support 7j/7 en fran√ßais/arabe
üéÅ **Essai gratuit** : 7 jours pour tester sans risque

La plupart de nos concurrents sont √©trangers et ne comprennent pas le march√© alg√©rien !`,
    keywords: ["diff√©rence", "concurrence", "pourquoi", "choisir", "unique", "avantages"]
  }
];

// Fonction pour rechercher dans la base de connaissances
export function searchKnowledge(query: string): KnowledgeItem[] {
  const searchTerms = query.toLowerCase().split(' ');
  
  return KNOWLEDGE_BASE.filter(item => {
    const searchText = `${item.question} ${item.answer} ${item.keywords.join(' ')}`.toLowerCase();
    return searchTerms.some(term => searchText.includes(term));
  }).sort((a, b) => {
    // Prioriser les correspondances exactes dans les mots-cl√©s
    const aScore = a.keywords.filter(keyword => 
      searchTerms.some(term => keyword.toLowerCase().includes(term))
    ).length;
    const bScore = b.keywords.filter(keyword => 
      searchTerms.some(term => keyword.toLowerCase().includes(term))
    ).length;
    return bScore - aScore;
  });
}

// Fonction pour obtenir des suggestions de questions
export function getSuggestedQuestions(category?: string): string[] {
  const questions = category 
    ? KNOWLEDGE_BASE.filter(item => item.category === category)
    : KNOWLEDGE_BASE;
  
  return questions.slice(0, 5).map(item => item.question);
}